# 1단계: 개발 환경 구축 - 학습 내용

> **학습 기간**: 2025년 10월
> **소요 시간**: 4시간
> **학습 목표**: Docker 기반 RAG 개발 환경 구축

---

## 📚 학습 주제

1. VSCode 개발 환경 설정
2. Windows Docker CLI 설치
3. Elasticsearch & Kibana 구성

---

## 1. VSCode 개발 환경 설정

### 학습 내용

#### 1.1 필수 확장 프로그램
- **Python Extension**: 코드 작성 및 디버깅
- **Pylint**: 코드 품질 검사
- **Black Formatter**: 자동 포맷팅
- **Docker Extension**: Docker 파일 관리

#### 1.2 Python 환경 설정
```json
{
  "python.linting.enabled": true,
  "python.linting.pylintEnabled": true,
  "python.formatting.provider": "black",
  "editor.formatOnSave": true
}
```

#### 1.3 디버깅 설정
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Python: Current File",
      "type": "python",
      "request": "launch",
      "program": "${file}",
      "console": "integratedTerminal"
    }
  ]
}
```

### 학습 포인트
- ✅ 일관된 코드 스타일 유지 (Black)
- ✅ 실시간 오류 검사 (Pylint)
- ✅ 효율적인 디버깅 환경

---

## 2. Windows Docker CLI 설치

### 학습 내용

#### 2.1 WSL2 설치
Windows에서 Docker를 사용하기 위해서는 WSL2가 필요합니다.

**WSL2란?**
- Windows Subsystem for Linux 2
- Windows에서 리눅스를 네이티브로 실행
- Docker와의 완벽한 호환성

**설치 명령어**:
```powershell
# PowerShell 관리자 권한 실행
wsl --install
```

**설치 확인**:
```bash
wsl --list --verbose
```

#### 2.2 Docker Desktop 설치
- 공식 사이트에서 다운로드
- WSL2 backend 사용
- 설치 후 재시작 필요

#### 2.3 Docker 기본 명령어

| 명령어 | 설명 | 예시 |
|-------|------|------|
| `docker ps` | 실행 중인 컨테이너 목록 | `docker ps -a` |
| `docker images` | 이미지 목록 | `docker images` |
| `docker run` | 컨테이너 실행 | `docker run -d -p 9200:9200 elasticsearch` |
| `docker stop` | 컨테이너 중지 | `docker stop <container_id>` |
| `docker logs` | 로그 확인 | `docker logs <container_id>` |

### 학습 포인트
- ✅ WSL2의 역할과 필요성 이해
- ✅ Docker의 기본 개념 (이미지, 컨테이너)
- ✅ Docker 명령어 숙지

---

## 3. Elasticsearch & Kibana 구성

### 학습 내용

#### 3.1 Elasticsearch란?
**정의**: 분산형 검색 및 분석 엔진

**RAG에서의 역할**:
- **Vector DB**: 문서 임베딩 벡터 저장
- **하이브리드 검색**: 키워드 + 벡터 검색
- **확장성**: 대량 데이터 처리

**주요 특징**:
| 특징 | 설명 |
|-----|------|
| RESTful API | HTTP 기반 JSON 통신 |
| 실시간 검색 | 즉시 검색 가능 |
| 분산 처리 | 샤딩을 통한 수평 확장 |
| 벡터 검색 | dense_vector 타입 지원 |

#### 3.2 Kibana란?
**정의**: Elasticsearch 시각화 도구

**기능**:
- 데이터 탐색 및 시각화
- 인덱스 관리
- 쿼리 테스트
- 대시보드 생성

#### 3.3 Docker Compose 구성

**docker-compose.yml**:
```yaml
version: '3.8'

services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
    container_name: elasticsearch
    environment:
      - discovery.type=single-node
      - xpack.security.enabled=false
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ports:
      - "9200:9200"
    networks:
      - elastic

  kibana:
    image: docker.elastic.co/kibana/kibana:8.11.0
    container_name: kibana
    environment:
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
    ports:
      - "5601:5601"
    networks:
      - elastic
    depends_on:
      - elasticsearch

networks:
  elastic:
    driver: bridge
```

**설정 설명**:
- `discovery.type=single-node`: 단일 노드 구성 (개발용)
- `xpack.security.enabled=false`: 보안 비활성화 (로컬 개발용)
- `ES_JAVA_OPTS`: JVM 메모리 설정
- `depends_on`: Kibana가 ES 이후 시작

#### 3.4 실행 및 확인

**실행**:
```bash
docker-compose up -d
```

**확인**:
```bash
# Elasticsearch 상태 확인
curl http://localhost:9200

# 출력 예시:
{
  "name" : "elasticsearch",
  "cluster_name" : "docker-cluster",
  "version" : {
    "number" : "8.11.0"
  }
}
```

**Kibana 접속**:
- URL: http://localhost:5601
- Dev Tools에서 쿼리 테스트 가능

#### 3.5 Elasticsearch 기본 개념

**인덱스(Index)**:
- RDB의 데이터베이스와 유사
- 문서를 저장하는 논리적 공간

**문서(Document)**:
- JSON 형태의 데이터
- 검색의 기본 단위

**샤드(Shard)**:
- 인덱스를 여러 조각으로 분할
- 수평 확장 가능

**예시 - 문서 저장**:
```bash
# 문서 인덱싱
curl -X POST "localhost:9200/documents/_doc/1" \
  -H 'Content-Type: application/json' \
  -d '{
    "title": "RAG 시스템 개요",
    "content": "RAG는 검색과 생성을 결합한 시스템입니다.",
    "vector": [0.1, 0.2, 0.3, ...]
  }'
```

### 학습 포인트
- ✅ Elasticsearch의 역할 및 구조 이해
- ✅ Docker Compose를 통한 멀티 컨테이너 관리
- ✅ RESTful API를 통한 데이터 조작

---

## 💡 핵심 학습 내용 정리

### 개념 이해
1. **Docker**: 컨테이너 기반 가상화 기술
   - 환경 일관성 보장
   - 빠른 배포 및 확장

2. **WSL2**: Windows에서 Linux 실행 환경
   - Docker의 필수 요소 (Windows)
   - 네이티브 Linux 성능

3. **Elasticsearch**: 분산 검색 엔진
   - Vector DB로 활용
   - 하이브리드 검색 지원

4. **Kibana**: ES 시각화 도구
   - 데이터 탐색
   - 쿼리 테스트

### 실습 성과
- ✅ VSCode 개발 환경 구축 완료
- ✅ Docker Desktop 설치 및 설정
- ✅ Elasticsearch + Kibana 정상 실행
- ✅ 기본 CRUD 작업 수행

### 다음 단계 준비
- Elasticsearch Python 클라이언트 설치 예정
- RAG 파이프라인 구현 준비 완료
- Vector 저장 및 검색 준비

---

## 📖 참고 자료

### 내부 문서
- R&D/1.1.01.VSCode 세팅.md
- R&D/1.1.04.Windows Docker CLI 설치.md
- R&D/1.1.05.Elasticsearch & Kibana 환경 구성.md

### 외부 문서
- [Docker 공식 문서](https://docs.docker.com/)
- [Elasticsearch Guide](https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html)
- [Kibana User Guide](https://www.elastic.co/guide/en/kibana/current/index.html)

---

**작성일**: 2025년 10월 26일
**학습 완료**: ✅
